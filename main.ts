namespace SpriteKind {
    export const Large = SpriteKind.create()
    export const medium = SpriteKind.create()
    export const mini = SpriteKind.create()
}
function set_level () {
    game.splash("Level " + level)
    for (let index = 0; index <= level - 1; index++) {
        create_large()
    }
}
function create_medium (largeball: Sprite, goleft: boolean) {
    mySprite2 = sprites.create(img`
        . . . . . . . . 
        . 2 2 2 2 2 . . 
        2 2 2 2 2 2 2 . 
        2 2 9 9 9 2 2 . 
        2 2 9 9 9 2 2 . 
        2 2 9 9 9 2 2 . 
        2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 . . 
        `, SpriteKind.medium)
    mySprite2.setPosition(largeball.x, largeball.y)
    mySprite2.setBounceOnWall(true)
    mySprite2.ay = 120
    mySprite2.vx = 50
    if (goleft) {
        mySprite2.vx = -49
    } else {
        mySprite2.vx = 50
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.mini, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-1)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    list = sprites.allOfKind(SpriteKind.Projectile)
    for (let value of list) {
        sprites.destroy(projectile, effects.spray, 500)
    }
    projectile = sprites.createProjectileFromSprite(img`
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .2.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        .1.
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        111
        `, mySprite, 0, -200)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.mini, function (sprite, otherSprite) {
    sprites.destroy(sprite)
    sprites.destroy(otherSprite, effects.fire, 500)
    info.changeScoreBy(3)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.medium, function (sprite, otherSprite) {
    create_mini(otherSprite, true)
    create_mini(otherSprite, false)
    sprites.destroy(sprite)
    sprites.destroy(otherSprite)
    info.changeScoreBy(2)
})
function create_mini (mediumball: Sprite, goleft: boolean) {
    mySprite2 = sprites.create(img`
        2 2 2 2 
        2 9 6 2 
        2 6 9 2 
        2 2 2 2 
        `, SpriteKind.mini)
    mySprite2.setPosition(mediumball.x, mediumball.y)
    mySprite2.setBounceOnWall(true)
    mySprite2.ay = 120
    mySprite2.vx = 50
    if (goleft) {
        mySprite2.vx = -49
    } else {
        mySprite2.vx = 50
    }
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.Large, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-3)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Large, function (sprite, otherSprite) {
    create_medium(otherSprite, true)
    create_medium(otherSprite, false)
    sprites.destroy(sprite)
    sprites.destroy(otherSprite)
    info.changeScoreBy(1)
})
sprites.onDestroyed(SpriteKind.mini, function (sprite) {
    list = sprites.allOfKind(SpriteKind.mini)
    if (list.length == 0) {
        game.splash("Level " + level, "completed")
        level += 1
        set_level()
    }
})
info.onLifeZero(function () {
    game.splash(level)
    game.gameOver(false)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.medium, function (sprite, otherSprite) {
    sprites.destroy(otherSprite)
    info.changeLifeBy(-2)
})
function create_large () {
    mySprite2 = sprites.create(img`
        . . . . 2 2 2 2 2 2 2 . . . . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 . . . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        2 2 2 2 2 2 2 2 2 1 1 1 2 2 2 . 
        2 2 2 2 2 2 2 2 2 1 1 1 2 2 2 . 
        2 2 2 2 2 2 2 2 2 1 1 1 2 2 2 . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        2 2 2 2 2 2 2 2 2 2 2 2 2 2 2 . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . 2 2 2 2 2 2 2 2 2 2 2 2 2 . . 
        . . 2 2 2 2 2 2 2 2 2 2 2 . . . 
        . . . . 2 2 2 2 2 2 2 . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Large)
    mySprite2.setPosition(randint(30, 130), 24)
    mySprite2.setBounceOnWall(true)
    mySprite2.ay = 120
    mySprite2.vx = 50
}
let projectile: Sprite = null
let list: Sprite[] = []
let mySprite2: Sprite = null
let mySprite: Sprite = null
let level = 0
level = 1
mySprite = sprites.create(img`
    . . . . . . e e e e e . . . . . 
    . . . . . e e d d d e e . . . . 
    . . . . e e d f d f d e e . . . 
    . . . . e d d f d f d d e . . . 
    . . . . e d d d e d d d e . . . 
    . . . . e e d c c c d e e . . . 
    . . . . . e e e e e e e . . . . 
    . . . . . . . e e e . . . . . . 
    . . . . . e e e e e e e . . . . 
    . . . . e e d d d d d e e . . . 
    . . . . e e d d d d d e e . . . 
    . . . . e e d d d d d e e . . . 
    . . . . e e d d d d d e e . . . 
    . . . . f e e e e e e e f . . . 
    . . . f f f f e e e f f f f . . 
    . . . f f b f e e e f b f f . . 
    `, SpriteKind.Player)
mySprite.bottom = 120
mySprite.setStayInScreen(true)
controller.moveSprite(mySprite, 100, 0)
scene.setBackgroundImage(img`
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    4444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
    8844444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444844444444444444444444444444444
    8888444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444844444444444444444444444444444
    8888844444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444448844444444444444444444444444444
    8888888844444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444448844444444444444448444444444444
    8888888888444444444444444444444444444444444444444444444444442222222222222224444444444444444422244444444444444444444444444444444448844444444444444488444444444444
    8888888888888444444444444444444444444444444444444444444444822222222222222222222222222222222222444444444444444444444444444444444488844444444444444488444444444444
    8888888888888888888888444444444444444444444488888888888888882222222222222222222222222222222228844444444444444444444444444444448888884444444444444488444444444444
    8888888888888888888888888888444444444444444888888888888888888222222222222222222222222222222228888888888888888888888444444444488888884444444444444488844444444444
    8888888888888888888888888888844444444444488888888888888888888822222222222222222222222222222888888888888888888888888888888888888888884444444444444888844444444444
    8888888888888888888888888888844444444444888888888888888888888888222222222222222222222222228888888888888888888888888888888888888888884444444444448888844444444444
    8888888888888888888888888888844444444888888888888888888888888888882222222222222222222222288888888888888888888888888888888888888888888444444444448888884444444444
    8888888888888888888888888888888444488888888888888888888888888888888888222222222222222228888888888888888888888888888888888888888888888444444444488888884444444444
    8888888888888888888888888888888888888888888888888888888888888888888888888888222222222288888888888888888888888888888888888888888888888444444444488888884444444448
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888844444444888888888444444488
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888884444448888888888444444488
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888444488888888888444444888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888844488888888888844448888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888844448888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888884448888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888488888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
    `)
info.setLife(3)
set_level()
game.onUpdate(function () {
    list = sprites.allOfKind(SpriteKind.Projectile)
    for (let value of list) {
        if (value.top <= 0) {
            value.vy = 0
            value.top = 0
        }
    }
})
